<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>추천 결과</title>
</head>
<body>
<h1>추천 결과</h1>

<!-- 결과가 있을 때만 표시 -->
<div th:if="${result}">
    <p><strong>결과 메시지:</strong> <span th:text="${result.message}"></span></p>

    <p><strong>추천 차 목록:</strong></p>
    <ul>
        <li th:each="tea : ${result.teas}" th:text="${tea.name}"></li>
    </ul>
</div>

<!-- Mood 체크리스트로 돌아가기 -->
<a th:href="@{/mood/checklist}">무드 체크리스트로 돌아가기</a>
<!-- State 체크리스트로 돌아가기 -->
<a th:href="@{/state/checklist}">상태 체크리스트로 돌아가기</a>

<!-- 추천 차 선택 폼 -->
<div th:if="${result.teas}">
    <h2>마음에 드는 차를 하나 선택하세요:</h2>
    <form th:action="@{/tea/select}" method="post">
        <div th:each="tea : ${result.teas}">
            <input type="radio" name="selectedTeaId" th:value="${tea.id}" th:id="${'tea_' + tea.id}">
            <label th:for="${'tea_' + tea.id}" th:text="${tea.name}"></label><br>
        </div>

        <!-- CSRF 토큰 필요 시 -->
        <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>

        <button type="submit">마이페이지에 저장하기</button>
    </form>
</div>

</body>
</html>
