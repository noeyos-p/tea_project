<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>마이페이지</title>
</head>
<body>
<h1>마이페이지</h1>

<!-- 저장 완료 메시지 -->
<div th:if="${message}" style="color:green;">
    <p th:text="${message}"></p>
</div>

<table border="1">
    <thead>
    <tr>
        <th>사용자 닉네임</th>
        <th>날짜</th>
        <th>티 이름</th>
        <th>Mood / State</th>
        <th>메모</th>
    </tr>
    </thead>
    <tbody>
    <!-- 유저 데이터 반복 -->
    <tr th:each="data : ${userDataList}">
        <td th:text="${data.user.nickname}"></td>
        <td th:text="${#temporals.format(data.date, 'yyyy.MM.dd')}"></td>
        <td th:text="${data.tea.name}"></td>
        <td>
            <span th:if="${data.mood != null}" th:text="${data.mood.mood}"></span>
            <span th:if="${data.state != null}" th:text="${data.state.state}"></span>
        </td>
        <td th:text="${data.memo}"></td>
    </tr>

    <!-- 데이터 없을 때 -->
    <tr th:if="${#lists.isEmpty(userDataList)}">
        <td colspan="5">저장된 기록이 없습니다.</td>
    </tr>
    </tbody>
</table>

<a th:href="@{/mood/checklist}">무드 체크리스트로 돌아가기</a> |
<a th:href="@{/state/checklist}">상태 체크리스트로 돌아가기</a>

</body>
</html>
